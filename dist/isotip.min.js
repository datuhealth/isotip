!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.isotip=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){module.exports={options:{html:false,placement:"top",container:"body",template:'<div class="tooltip" data-tooltip-target="tooltip"></div>',removalDelay:200,tooltipOffset:10,windowPadding:{top:10,right:10,bottom:10,left:10}},init:function initializeTooltips(config){"use strict";var self=this;document.documentElement.scrollTop=1;this.documentElement=document.documentElement.scrollTop===1?document.documentElement:document.body;var div=document.createElement("div");div.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';this.innerHTMLBug=!div.getElementsByTagName("link").length;div=undefined;this.map={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],defaultTag:this.innerHTMLBug?[1,"X<div>","</div>"]:[0,"",""]};this.map.td=this.map.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];this.map.option=this.map.optgroup=[1,'<select multiple="multiple">',"</select>"];this.map.thead=this.map.tbody=this.map.colgroup=this.map.caption=this.map.tfoot=[1,"<table>","</table>"];this.map.text=this.map.circle=this.map.ellipse=this.map.line=this.map.path=this.map.polygon=this.map.polyline=this.map.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];if(config instanceof Object){for(var option in config){if(config.hasOwnProperty(option)&&this.options.hasOwnProperty(option)){if(typeof config[option]==="object"&&!Array.isArray(config[option])){for(var subkey in config[option]){if(config[option].hasOwnProperty(subkey)&&this.options[option].hasOwnProperty(subkey)){this.options[option][subkey]=config[option][subkey]}}}else{this.options[option]=config[option]}}}}function clickHandler(evt){if(!evt){evt=window.event}var trigger=evt.target||evt.srcElement;if(self.currentTooltip){if(trigger===self.currentTooltip){if(trigger===self.currentTooltip){console.log("clicked on tooltip");return}}else if(trigger===self.currentTrigger){console.log("clicked on trigger");self.close(self.currentTooltip);self.currentTooltip=undefined;self.currentTrigger=undefined;return}else{var children=self.currentTooltip.childNodes;for(var childNode in children){console.log("looping through children");if(children.hasOwnProperty(childNode)){if(children[childNode]===trigger){console.log("child element");return}}}console.log("clicked outside");self.close(self.currentTooltip);self.currentTooltip=undefined;self.currentTrigger=undefined}}if(!self.hasClass(trigger,"tooltip-click")){return}self.currentTrigger=trigger;self.open(trigger)}function mouseoverHandler(evt){if(!evt){evt=window.event}var trigger=evt.target||evt.srcElement;function mouseoutHandler(moEvt){if(!moEvt){moEvt=window.event}var moTrigger=evt.target||evt.srcElement;if(self.hasClass(moTrigger)){return}self.close(self.currentTooltip);self.currentTooltip=undefined;self.currentTrigger=undefined;self.removeEventListener(trigger,"mouseout",mouseoutHandler);return}if(!self.hasClass(trigger,"tooltip-hover")){return}self.open(trigger);self.addEventListener(trigger,"mouseout",mouseoutHandler);return}function focusHandler(evt){if(!evt){evt=window.event}var trigger=evt.target||evt.srcElement;function blurHandler(){self.close(self.currentTooltip);self.currentTooltip=undefined;self.currentTrigger=undefined;self.removeEventListener(trigger,"blur",blurHandler);return}if(!self.hasClass(trigger,"tooltip-focus")){return}self.open(trigger);self.addEventListener(trigger,"blur",blurHandler);return}this.addEventListener(document.body,"click",clickHandler);this.addEventListener(document.body,"mouseover",mouseoverHandler);this.addEventListener(document.body,"focusin",focusHandler);this.addEventListener(window,"scroll",function(){if(this.currentTooltip&&this.currentTrigger){this.positionTooltip(this.currentTooltip,this.currentTrigger)}return}.bind(this))},open:function openTooltip(trigger,options){"use strict";if(typeof trigger==="string"){trigger=document.body.querySelector(trigger)}if(!options){options={}}var content=options.content||trigger.getAttribute("data-tooltip-content"),title=options.title||trigger.getAttribute("data-tooltip-title"),html=options.html||trigger.getAttribute("data-tooltip-html"),placement=options.placement||trigger.getAttribute("data-tooltip-placement"),container=options.container||trigger.getAttribute("data-tooltip-container"),tooltip=this.createDOMElement(this.options.template),tooltipTitle,tooltipContent;if(!content){return}if(title){tooltipTitle=this.createDOMElement('<p class="tooltip-title">'+title+"</p>");tooltip.appendChild(tooltipTitle)}if((this.options.html||html)&&content){if(this.getTagName(content)){tooltipContent=this.createDOMElement(content)}else{tooltipContent=this.createDOMElement('<p class="tooltip-content">'+content+"</p>")}}else{tooltipContent=this.createDOMElement('<p class="tooltip-content">'+content+"</p>")}tooltip.appendChild(tooltipContent);if(container&&container!=="body"){if(typeof container==="string"){this.currentContainer=document.querySelector(container)}}else if(this.options.container!=="body"){if(typeof this.options.container==="string"){this.currentContainer=document.querySelector(this.options.container)}}else{this.currentContainer=document.querySelector(this.options.container)}this.currentTooltip=this.currentContainer.appendChild(tooltip);this.positionTooltip(this.currentTooltip,trigger,placement);return this.currentTooltip},close:function closeTooltip(tooltip){"use strict";if(typeof tooltip==="string"){tooltip=document.body.querySelector(tooltip)}this.removeClass(tooltip,"visible");window.setTimeout(function removeElementFromDOM(){if(tooltip&&tooltip instanceof Element){tooltip.parentNode.removeChild(tooltip)}else{document.body.removeChild(document.body.querySelector(".tooltip"))}},this.options.removalDelay)},positionTooltip:function positionTooltip(tooltip,trigger,placement){"use strict";if(typeof tooltip==="string"){tooltip=document.body.querySelector(tooltip)}if(typeof trigger==="string"){trigger=document.body.querySelector(trigger)}if(!placement){placement=trigger.getAttribute("data-tooltip-placement")||this.options.placement}var self=this,tooltipAccent=tooltip.appendChild(this.createDOMElement('<div class="tooltip-accent"></div>')),triggerWidth=parseInt(trigger.offsetWidth),triggerHeight=parseInt(trigger.offsetHeight),triggerPosition=trigger.getBoundingClientRect(),triggerX=triggerPosition.left,triggerY=triggerPosition.top,windowTop=this.options.windowPadding.top,windowRight=window.innerWidth-this.options.windowPadding.right,windowBottom=window.innerHeight-this.options.windowPadding.bottom,windowLeft=this.options.windowPadding.left,tooltipX,tooltipY,tooltipWidth,tooltipHeight,tooltipRight,tooltipBottom,tooltipAccentWidth,tooltipAccentHeight;function positionTop(){tooltipX=triggerX-tooltipWidth/2+triggerWidth/2;tooltipY=triggerY-tooltipHeight-self.options.tooltipOffset;tooltipRight=tooltipX+tooltipWidth;self.addClass(tooltip,"tooltip-top");if(!tooltipAccentWidth){tooltipAccentWidth=parseInt(tooltipAccent.offsetWidth)}if(tooltipRight>windowRight){tooltip.style.top=tooltipY+"px";tooltip.style.right=self.options.windowPadding.right+"px";tooltipAccent.style.right=triggerWidth/2-tooltipAccentWidth/2+"px"}else if(tooltipY<windowTop){if(triggerY+triggerHeight+tooltipHeight<windowTop){return}self.removeClass(tooltip,"tooltip-top");return positionBottom()}else if(tooltipX<self.options.windowPadding.left){tooltip.style.top=tooltipY+"px";tooltip.style.left=self.options.windowPadding.left+"px";tooltipAccent.style.left=triggerWidth/2-tooltipAccentWidth/2+"px"}else{tooltip.style.top=tooltipY+"px";tooltip.style.left=tooltipX+"px";tooltipAccent.style.left=tooltipWidth/2-tooltipAccentWidth/2+"px"}}function positionRight(){tooltipX=triggerX+triggerWidth+self.options.tooltipOffset;tooltipY=triggerY-tooltipHeight/2+triggerHeight/2;tooltipRight=tooltipX+tooltipWidth;self.addClass(tooltip,"tooltip-right");if(!tooltipAccentHeight){tooltipAccentHeight=parseInt(tooltipAccent.offsetHeight)}if(tooltipRight>windowRight){self.removeClass(tooltip,"tooltip-right");return positionTop()}else{tooltip.style.top=tooltipY+"px";tooltip.style.left=tooltipX+"px";tooltipAccent.style.top=tooltipHeight/2-tooltipAccentHeight/2+"px"}}function positionBottom(){tooltipX=triggerX-tooltipWidth/2+triggerWidth/2;tooltipY=triggerY+triggerHeight+self.options.tooltipOffset;tooltipRight=tooltipX+tooltipWidth;tooltipBottom=tooltipY+tooltipHeight;self.addClass(tooltip,"tooltip-bottom");if(!tooltipAccentWidth){tooltipAccentWidth=parseInt(tooltipAccent.offsetWidth)}if(tooltipRight>windowRight){tooltip.style.top=tooltipY+"px";tooltip.style.right=self.options.windowPadding.right+"px";tooltipAccent.style.right=triggerWidth/2-tooltipAccentWidth/2+"px"}else if(tooltipBottom>windowBottom){if(triggerY-tooltipHeight>windowBottom){return}self.removeClass(tooltip,"tooltip-bottom");return positionTop()}else if(tooltipX<self.options.windowPadding.left){tooltip.style.top=tooltipY+"px";tooltip.style.left=self.options.windowPadding.left+"px";tooltipAccent.style.left=triggerWidth/2-tooltipAccentWidth/2+"px"}else{tooltip.style.top=tooltipY+"px";tooltip.style.left=tooltipX+"px";tooltipAccent.style.left=tooltipWidth/2-tooltipAccentWidth/2+"px"}}function positionLeft(){tooltipX=triggerX-tooltipWidth-self.options.tooltipOffset;tooltipY=triggerY-tooltipHeight/2+triggerHeight/2;self.addClass(tooltip,"tooltip-left");if(!tooltipAccentHeight){tooltipAccentHeight=parseInt(tooltipAccent.offsetHeight)}if(tooltipX<windowLeft){self.removeClass(tooltip,"tooltip-left");return positionTop()}else{tooltip.style.top=tooltipY+"px";tooltip.style.left=tooltipX+"px";tooltipAccent.style.top=tooltipHeight/2-tooltipAccentHeight/2+"px"}}tooltip.style.position="fixed";tooltipWidth=parseInt(tooltip.offsetWidth);tooltipHeight=parseInt(tooltip.offsetHeight);tooltipAccentHeight=parseInt(tooltipAccent.offsetHeight);if(placement==="top"){positionTop()}else if(placement==="right"){positionRight()}else if(placement==="bottom"){positionBottom()}else if(placement==="left"){positionLeft()}window.setTimeout(function(){self.addClass(tooltip,"visible")},50);return tooltip},addEventListener:function addEventListener(el,eventName,handler,useCapture){"use strict";if(!useCapture){useCapture=false}if(el.addEventListener){el.addEventListener(eventName,handler,useCapture);return el}else{el.attachEvent("on"+eventName,function(){handler.call(el)});return el}},removeEventListener:function removeEventListener(el,eventName,handler,useCapture){"use strict";if(!useCapture){useCapture=false}if(el.removeEventListener){el.removeEventListener(eventName,handler,useCapture)}else{el.detachEvent("on"+eventName,function(){handler.call(el)})}return el},hasClass:function hasClass(el,className){"use strict";if(el.classList){return el.classList.contains(className)}else{return new RegExp("(^| )"+className+"( |$)","gi").test(el.className)}},addClass:function addClass(el,className){"use strict";if(el.classList){el.classList.add(className)}else{el.className+=" "+className}return el},removeClass:function removeClass(el,className){"use strict";if(el){if(el.classList){el.classList.remove(className)}else{el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}}return el},setInnerText:function setInnerText(el,text){"use strict";if(el.textContent!==undefined){el.textcontent=text}else{el.innerText=text}return el},getTagName:function getTagName(html){"use strict";return/<([\w:]+)/.exec(html)},createDOMElement:function createDOMElement(html){"use strict";html=html.replace(/^\s+|\s+$/g,"");var templateTag=this.getTagName(html)[1],wrap=this.map[templateTag]||this.map.defaultTag,depth=wrap[0],prefix=wrap[1],suffix=wrap[2],el=document.createElement("div");el.innerHTML=prefix+html+suffix;while(depth--){el=el.lastChild}return el.removeChild(el.firstChild)}}},{}]},{},[1])(1)});
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.isotip=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports={options:{html:false,placement:"top",container:"body",scrollContainer:window,template:'<div class="tooltip" data-tooltip-target="tooltip"></div>',removalDelay:200,tooltipOffset:10,windowPadding:{top:10,right:10,bottom:10,left:10}},init:function initializeTooltips(config){var self=this;document.documentElement.scrollTop=1;this.documentElement=document.documentElement.scrollTop===1?document.documentElement:document.body;var div=document.createElement("div");div.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';this.innerHTMLBug=!div.getElementsByTagName("link").length;div=undefined;if("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch){document.body.style.cursor="pointer"}this.map={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],defaultTag:this.innerHTMLBug?[1,"X<div>","</div>"]:[0,"",""]};this.map.td=this.map.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];this.map.option=this.map.optgroup=[1,'<select multiple="multiple">',"</select>"];this.map.thead=this.map.tbody=this.map.colgroup=this.map.caption=this.map.tfoot=[1,"<table>","</table>"];this.map.text=this.map.circle=this.map.ellipse=this.map.line=this.map.path=this.map.polygon=this.map.polyline=this.map.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];if(config instanceof Object){for(var option in config){if(window.Object.hasOwnProperty.call(config,option)&&window.Object.hasOwnProperty.call(this.options,option)){if(typeof config[option]==="object"&&!Array.isArray(config[option])){for(var subkey in config[option]){if(window.Object.hasOwnProperty.call(config[option],subkey)&&window.Object.hasOwnProperty.call(this.options[option],subkey)){this.options[option][subkey]=config[option][subkey]}}}else{this.options[option]=config[option]}}}}function clickHandler(evt){if(!evt){evt=window.event}var trigger=evt.target||evt.srcElement;if(self.currentTooltip){if(trigger===self.currentTooltip){return}else if(self.currentTooltip.getAttribute("data-autoclose")==="false"){return}else if(trigger===self.currentTrigger){self.close(self.currentTooltip);return}else{if(self.hasParent(trigger,self.currentTooltip)){return false}self.close(self.currentTooltip)}}if(!self.hasClass(trigger,"tooltip-click")){return}self.open(trigger)}function mouseoverHandler(evt){if(!evt){evt=window.event}var trigger=evt.target||evt.srcElement;if(!self.hasClass(trigger,"tooltip-hover")){return}if(self.currentTooltip){if(trigger===self.currentTooltip){return}else if(self.currentTooltip.getAttribute("data-autoclose")==="false"){return}else{if(self.hasParent(trigger,self.currentTooltip)){return false}self.close(self.currentTooltip)}}function mouseoutHandler(moEvt){if(!moEvt){moEvt=window.event}var moTrigger=evt.target||evt.srcElement;if(self.hasClass(moTrigger)){return}if(self.currentTooltip&&self.currentTooltip.getAttribute("data-autoclose")==="false"){return}self.close(self.currentTooltip);self.removeEventListener(trigger,"mouseout",mouseoutHandler);return}self.open(trigger);self.addEventListener(trigger,"mouseout",mouseoutHandler);return}function focusHandler(evt){if(!evt){evt=window.event}var trigger=evt.target||evt.srcElement;if(!self.hasClass(trigger,"tooltip-focus")){return}if(self.currentTooltip&&self.currentTooltip.getAttribute("data-autoclose")!=="false"){self.close(self.currentTooltip)}function blurHandler(){if(self.currentTooltip&&self.currentTooltip.getAttribute("data-autoclose")==="false"){return}self.close(self.currentTooltip);self.removeEventListener(trigger,"blur",blurHandler);return}self.open(trigger);self.addEventListener(trigger,"blur",blurHandler);return}this.windowChangeHandler=function windowChangeHandler(){if(self.currentTooltip&&self.currentTrigger){self.positionTooltip(self.currentTooltip,self.currentTrigger)}return};this.addEventListener(document.body,"click",clickHandler);this.addEventListener(document.body,"mouseover",mouseoverHandler);this.addEventListener(document.body,"focus",focusHandler,true);this.addEventListener(window,"scroll",this.windowChangeHandler);this.addEventListener(window,"resize",this.windowChangeHandler)},open:function openTooltip(trigger,options){if(typeof trigger==="string"){trigger=document.body.querySelector(trigger)}if(!options){options={}}var className=options.className||trigger.getAttribute("data-tooltip-classname");var content=options.content||trigger.getAttribute("data-tooltip-content");var title=options.title||trigger.getAttribute("data-tooltip-title");var html=options.html||trigger.getAttribute("data-tooltip-html");var placement=options.placement||trigger.getAttribute("data-tooltip-placement");var container=options.container||trigger.getAttribute("data-tooltip-container");var scrollContainer=options.container||trigger.getAttribute("data-tooltip-scrollContainer");var autoClose=options.autoClose||trigger.getAttribute("data-tooltip-autoclose")!=="false";var preExistingTooltip=document.querySelector(".tooltip");var tooltip=this.createDOMElement(this.options.template);var tooltipTitle;var tooltipContent;if(!content){return}tooltip.appendChild(this.createDOMElement('<div class="tooltip-accent"></div>'));if(className){this.addClass(tooltip,className)}if(title){tooltipTitle=this.createDOMElement('<p class="tooltip-title">'+title+"</p>");tooltip.appendChild(tooltipTitle)}if((this.options.html||html)&&content){if(this.isElement(content)){tooltipContent=content}else if(this.getTagName(content)){tooltipContent=this.createDOMElement(content)}else{tooltipContent=this.createDOMElement('<p class="tooltip-content">'+content+"</p>")}}else{tooltipContent=this.createDOMElement('<p class="tooltip-content">'+content+"</p>")}tooltip.appendChild(tooltipContent);if(container&&container!==this.options.container){if(typeof container==="string"){this.currentContainer=document.querySelector(container)}}else{this.currentContainer=document.querySelector(this.options.container)}if(scrollContainer&&scrollContainer!==this.options.scrollContainer){if(typeof scrollContainer==="string"){this.currentScrollContainer=document.querySelector(scrollContainer)}}else{this.currentScrollContainer=this.options.scrollContainer}if(!autoClose){tooltip.setAttribute("data-autoclose","false")}if(preExistingTooltip){this.currentTooltip=preExistingTooltip.parentNode.insertBefore(tooltip,preExistingTooltip)}else{this.currentTooltip=this.currentContainer.appendChild(tooltip)}this.currentTrigger=trigger;this.positionTooltip(this.currentTooltip,this.currentTrigger,placement);if(this.currentScrollContainer!==window){this.addEventListener(this.currentScrollContainer,"scroll",this.windowChangeHandler)}return this.currentTooltip},close:function closeTooltip(tooltip){if(typeof tooltip==="string"){tooltip=document.body.querySelector(tooltip)}if(this.currentScrollContainer!==window){this.removeEventListener(this.currentScrollContainer,"scroll",this.windowChangeHandler)}this.removeClass(tooltip,"visible");this.currentTooltip=null;this.currentTrigger=null;this.currentScrollContainer=null;window.setTimeout(function removeElementFromDOM(){if(tooltip&&tooltip instanceof window.Element&&tooltip.parentNode){tooltip.parentNode.removeChild(tooltip)}else{tooltip=document.body.querySelector(".tooltip");if(tooltip&&tooltip.parentNode){tooltip.parentNode.removeChild(tooltip)}}},this.options.removalDelay)},positionTooltip:function positionTooltip(tooltip,trigger,placement){if(typeof tooltip==="string"){tooltip=document.body.querySelector(tooltip)}if(typeof trigger==="string"){trigger=document.body.querySelector(trigger)}if(!placement){placement=trigger.getAttribute("data-tooltip-placement")||this.options.placement}var self=this;var tooltipAccent=tooltip.querySelector(".tooltip-accent");var triggerPosition=trigger.getBoundingClientRect();var triggerWidth=Math.floor(triggerPosition.width);var triggerHeight=Math.floor(triggerPosition.height);var triggerX=triggerPosition.left;var triggerY=triggerPosition.top;var windowTop=this.options.windowPadding.top;var windowRight=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-this.options.windowPadding.right;var windowBottom=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-this.options.windowPadding.bottom;var windowLeft=this.options.windowPadding.left;var containerTop;var containerRight;var containerBottom;var containerLeft;var tooltipX;var tooltipY;var tooltipWidth;var tooltipHeight;var tooltipRight;var tooltipBottom;var tooltipAccentWidth;var tooltipAccentHeight;if(this.currentScrollContainer.getBoundingClientRect){var scrollContainerPosition=this.currentScrollContainer.getBoundingClientRect();if(scrollContainerPosition.top>=0){containerTop=scrollContainerPosition.top+this.options.windowPadding.top}if(scrollContainerPosition.right<=windowRight){containerRight=scrollContainerPosition.right-this.options.windowPadding.right}if(scrollContainerPosition.bottom<=windowBottom){containerBottom=scrollContainerPosition.bottom-this.options.windowPadding.bottom}if(scrollContainerPosition.left>=windowLeft){containerLeft=scrollContainerPosition.left+this.options.windowPadding.left}}function positionTop(){tooltipX=triggerX-tooltipWidth/2+triggerWidth/2;tooltipY=triggerY-tooltipHeight-self.options.tooltipOffset;tooltipRight=tooltipX+tooltipWidth;self.addClass(tooltip,"tooltip-top");if(!tooltipAccentWidth){tooltipAccentWidth=parseInt(tooltipAccent.offsetWidth,10)}if(!tooltipAccentHeight){tooltipAccentHeight=parseInt(tooltipAccent.offsetHeight,10)}if(triggerY+triggerHeight<=containerTop){if(self.hasClass(tooltip,"visible")){self.removeClass(tooltip,"visible")}}if(tooltipRight>windowRight||tooltipRight>containerRight){tooltip.style.top="auto";tooltip.style.bottom=windowBottom+self.options.windowPadding.bottom-triggerY+self.options.tooltipOffset+"px";tooltip.style.right=self.options.windowPadding.right+"px";tooltipAccent.style.left="auto";tooltipAccent.style.right=triggerWidth/2-tooltipAccentWidth/2+(windowRight-triggerX-triggerWidth)+"px"}else if(tooltipY<windowTop||tooltipY<containerTop){self.removeClass(tooltip,"tooltip-top");return positionBottom()}else if(tooltipX<windowLeft||tooltipX<containerLeft){tooltip.style.top="auto";tooltip.style.bottom=windowBottom+self.options.windowPadding.bottom-triggerY+self.options.tooltipOffset+"px";tooltip.style.left=self.options.windowPadding.left+"px";tooltipAccent.style.right="auto";tooltipAccent.style.left=triggerWidth/2-tooltipAccentWidth/2+(triggerX-windowLeft)+"px"}else{tooltip.style.top="auto";tooltip.style.bottom=windowBottom+self.options.windowPadding.bottom-triggerY+self.options.tooltipOffset+"px";tooltip.style.left=tooltipX+"px";tooltipAccent.style.top="";tooltipAccent.style.bottom="";tooltipAccent.style.right="";tooltipAccent.style.left=tooltipWidth/2-tooltipAccentWidth/2+"px"}}function positionRight(){tooltipX=triggerX+triggerWidth+self.options.tooltipOffset;tooltipY=triggerY-tooltipHeight/2+triggerHeight/2;tooltipRight=tooltipX+tooltipWidth;self.addClass(tooltip,"tooltip-right");if(!tooltipAccentHeight){tooltipAccentHeight=parseInt(tooltipAccent.offsetHeight,10)}if(tooltipRight>windowRight||tooltipRight>containerRight){self.removeClass(tooltip,"tooltip-right");return positionTop()}else{tooltip.style.top=tooltipY+"px";tooltip.style.left=tooltipX+"px";tooltipAccent.style.right="";tooltipAccent.style.bottom="";tooltipAccent.style.left="";tooltipAccent.style.top=tooltipHeight/2-tooltipAccentHeight/2+"px"}}function positionBottom(){tooltipX=triggerX-tooltipWidth/2+triggerWidth/2;tooltipY=triggerY+triggerHeight+self.options.tooltipOffset;tooltipRight=tooltipX+tooltipWidth;tooltipBottom=tooltipY+tooltipHeight;self.addClass(tooltip,"tooltip-bottom");if(!tooltipAccentWidth){tooltipAccentWidth=parseInt(tooltipAccent.offsetWidth,10)}if(triggerY>=containerBottom){if(self.hasClass(tooltip,"visible")){self.removeClass(tooltip,"visible")}}if(tooltipRight>windowRight||tooltipRight>containerRight){tooltip.style.top=tooltipY+"px";tooltip.style.right=self.options.windowPadding.right+"px";tooltipAccent.style.left="auto";tooltipAccent.style.right=triggerWidth/2-tooltipAccentWidth/2+(windowRight-triggerX-triggerWidth)+"px"}else if(tooltipBottom>windowBottom||tooltipBottom>containerBottom){self.removeClass(tooltip,"tooltip-bottom");return positionTop()}else if(tooltipX<windowLeft||tooltipX<windowLeft){tooltip.style.top=tooltipY+"px";tooltip.style.left=self.options.windowPadding.left+"px";tooltipAccent.style.right="auto";tooltipAccent.style.left=triggerWidth/2-tooltipAccentWidth/2+(triggerX-windowLeft)+"px"}else{tooltip.style.top=tooltipY+"px";tooltip.style.bottom="auto";tooltip.style.left=tooltipX+"px";tooltipAccent.style.top="";tooltipAccent.style.bottom="";tooltipAccent.style.right="";tooltipAccent.style.left=tooltipWidth/2-tooltipAccentWidth/2+"px"}}function positionLeft(){tooltipX=triggerX-tooltipWidth-self.options.tooltipOffset;tooltipY=triggerY-tooltipHeight/2+triggerHeight/2;self.addClass(tooltip,"tooltip-left");if(!tooltipAccentHeight){tooltipAccentHeight=parseInt(tooltipAccent.offsetHeight,10)}if(tooltipX<windowLeft||tooltipX<containerLeft){self.removeClass(tooltip,"tooltip-left");return positionTop()}else{tooltip.style.top=tooltipY+"px";tooltip.style.left=tooltipX+"px";tooltipAccent.style.right="";tooltipAccent.style.bottom="";tooltipAccent.style.left="";tooltipAccent.style.top=tooltipHeight/2-tooltipAccentHeight/2+"px"}}tooltip.style.position="fixed";tooltipWidth=parseInt(tooltip.offsetWidth,10);tooltipHeight=parseInt(tooltip.offsetHeight,10);tooltipAccentWidth=parseInt(tooltipAccent.offsetWidth,10);tooltipAccentHeight=parseInt(tooltipAccent.offsetHeight,10);self.removeClass(tooltip,"tooltip-top");self.removeClass(tooltip,"tooltip-right");self.removeClass(tooltip,"tooltip-bottom");self.removeClass(tooltip,"tooltip-left");if(placement==="top"){positionTop()}else if(placement==="right"){positionRight()}else if(placement==="bottom"){positionBottom()}else if(placement==="left"){positionLeft()}if(!self.hasClass(tooltip,"visible")&&(containerTop===undefined||triggerY+triggerHeight>containerTop&&triggerY<containerBottom)){window.setTimeout(function(){self.addClass(tooltip,"visible")},50)}else if(triggerY+triggerHeight<=containerTop||triggerY>=containerBottom){self.removeClass(tooltip,"visible")}return tooltip},addEventListener:function addEventListener(el,eventName,handler,useCapture){if(!useCapture){useCapture=false}if(el.addEventListener){el.addEventListener(eventName,handler,useCapture);return el}else{if(eventName==="focus"){eventName="focusin"}el.attachEvent("on"+eventName,function(){handler.call(el)});return el}},removeEventListener:function removeEventListener(el,eventName,handler,useCapture){if(!useCapture){useCapture=false}if(!el){return}if(el.removeEventListener){el.removeEventListener(eventName,handler,useCapture)}else{if(eventName==="focus"){eventName="focusin"}el.detachEvent("on"+eventName,function(){handler.call(el)})}return el},hasClass:function hasClass(el,className){if(el.classList){return el.classList.contains(className)}else{return new RegExp("(^| )"+className+"( |$)","gi").test(el.className)}},addClass:function addClass(el,className){if(el.classList){el.classList.add(className)}else{el.className+=" "+className}return el},removeClass:function removeClass(el,className){if(el){if(el.classList){el.classList.remove(className)}else{el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}}return el},setInnerText:function setInnerText(el,text){if(el.textContent!==undefined){el.textcontent=text}else{el.innerText=text}return el},getTagName:function getTagName(html){return/<([\w:]+)/.exec(html)},isElement:function getTagName(obj){return!!(obj&&obj.nodeType===1)},createDOMElement:function createDOMElement(html){html=html.replace(/^\s+|\s+$/g,"");var templateTag=this.getTagName(html)[1];var wrap=this.map[templateTag]||this.map.defaultTag;var depth=wrap[0];var prefix=wrap[1];var suffix=wrap[2];var el=document.createElement("div");el.innerHTML=prefix+html+suffix;while(depth--){el=el.lastChild}return el.removeChild(el.firstChild)},hasParent:function hasParent(el,parent){if(!el||!parent){return false}var match=false;while(el.parentNode&&!match){el=el.parentNode;if(el===parent){match=true}}return match}}},{}]},{},[1])(1)});
